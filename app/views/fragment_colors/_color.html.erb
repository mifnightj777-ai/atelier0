<div id="<%= dom_id(color) %>" 
     class="group relative w-10 h-10 md:w-12 md:h-12 rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.08)] border-2 border-white ring-1 ring-slate-100 flex items-center justify-center cursor-copy transition-all duration-300 ease-out hover:scale-110 hover:shadow-md hover:z-50 animate-[popIn_0.5s_cubic-bezier(0.25,0.8,0.25,1)_forwards]" 
     style="background-color: <%= color.hex_code %>;"
     data-controller="clipboard"
     data-clipboard-text-value="<%= color.hex_code %>"
     data-action="click->clipboard#copy mouseenter->clipboard#showTooltip mouseleave->clipboard#hideTooltip">

  <% if color.fragment.user == current_user %>
    <%= button_to fragment_color_path(color.fragment, color), method: :delete, class: "absolute -top-1 -right-1 w-5 h-5 bg-white text-indigo-600 border border-indigo-100 hover:bg-indigo-50 hover:text-indigo-800 hover:border-indigo-200 rounded-full shadow-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-200 scale-75 group-hover:scale-100 z-10", form: { style: "display: inline-block;" }, data: { action: "click->clipboard#stopPropagation" } do %>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-3 h-3"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z" /></svg>
    <% end %>
  <% end %>

  <style>
    @keyframes popIn {
      0% { opacity: 0; transform: scale(0.5); }
      100% { opacity: 1; transform: scale(1); }
    }
  </style>
</div>