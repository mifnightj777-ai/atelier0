<!DOCTYPE html>
<html lang="ja" class="h-full bg-white">
  <head>
    <title>Atelier0</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <%= javascript_importmap_tags %>
  </head>

  <body class="h-full text-slate-700 font-['Inter'] antialiased overflow-x-hidden">
    
    <header class="fixed top-0 w-full z-50 bg-white/80 backdrop-blur-md border-b border-slate-100 py-4 px-6 md:px-12 flex justify-between items-center transition-all">
      <%= link_to root_path, class: "group flex items-center gap-2" do %>
        <span class="w-3 h-3 rounded-full bg-indigo-700 group-hover:scale-110 transition-transform"></span>
        <span class="font-['Poppins'] font-bold text-xl tracking-tight text-slate-900">Atelier0.</span>
      <% end %>

      <nav class="flex items-center gap-8 font-['Poppins'] text-sm font-medium">
        <% if user_signed_in? %>
          <%= link_to "My Studio", user_profile_path(current_user.username), class: "hover:text-indigo-700 transition-colors" %>
          
          <%= link_to "Log out", destroy_user_session_path, data: { turbo_method: :delete }, class: "text-slate-400 hover:text-slate-600 transition-colors px-4 py-2 bg-slate-50 rounded-full hover:bg-slate-100" %>
        <% else %>
          <%= link_to "Join", new_user_registration_path, class: "text-indigo-700 hover:text-indigo-900 transition-colors" %>
          <%= link_to "Log in", new_user_session_path, class: "text-slate-500 hover:text-slate-900 transition-colors" %>
        <% end %>
      </nav>
    </header>

    <main class="w-full max-w-6xl mx-auto pt-32 pb-24 px-6 md:px-12 lg:px-20">
      <% if notice %>
        <div class="fixed top-24 left-1/2 -translate-x-1/2 bg-indigo-700 text-white text-sm px-6 py-3 rounded-full shadow-lg z-50 font-['Poppins'] animate-fade-in-up flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd" /></svg>
          <%= notice %>
        </div>
      <% end %>
      <% if alert %>
        <div class="fixed top-24 left-1/2 -translate-x-1/2 bg-red-500 text-white text-sm px-6 py-3 rounded-full shadow-lg z-50 font-['Poppins'] animate-fade-in-up flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" /></svg>
          <%= alert %>
        </div>
      <% end %>
      
      <%= yield %>
    </main>

  </body>
</html>