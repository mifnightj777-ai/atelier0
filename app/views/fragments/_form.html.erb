<%= form_with(model: fragment, class: "contents") do |form| %>
  <% if fragment.errors.any? %>
    <div class="bg-red-50 text-red-600 p-4 text-sm">
      <h2 class="font-bold mb-1"><%= pluralize(fragment.errors.count, "error") %> prohibited this fragment from being saved:</h2>
      <ul class="list-disc pl-5">
        <% fragment.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="p-8 md:p-10">
    
    <div class="mb-8">
      <label class="block text-xs font-['Poppins'] font-bold text-slate-400 uppercase tracking-widest mb-3">Visibility</label>
      <div class="flex gap-4">
        <label class="cursor-pointer">
          <%= form.radio_button :visibility, :public_view, class: "peer sr-only", checked: true %>
          <div class="px-5 py-2.5 rounded-full border border-slate-200 text-slate-500 font-['Poppins'] text-sm peer-checked:bg-indigo-700 peer-checked:text-white peer-checked:border-indigo-700 transition-all shadow-sm hover:bg-slate-50 flex items-center gap-2">
            <span>World ğŸŒ</span>
          </div>
        </label>

        <label class="cursor-pointer">
          <%= form.radio_button :visibility, :private_view, class: "peer sr-only" %>
          <div class="px-5 py-2.5 rounded-full border border-slate-200 text-slate-500 font-['Poppins'] text-sm peer-checked:bg-slate-800 peer-checked:text-white peer-checked:border-slate-800 transition-all shadow-sm hover:bg-slate-50 flex items-center gap-2">
            <span>Secret</span>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-3 h-3">
              <path fill-rule="evenodd" d="M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z" clip-rule="evenodd" />
            </svg>
          </div>
        </label>
      </div>
    </div>

    <div class="mb-8">
      <%= form.label :description, "Thought", class: "block text-xs font-['Poppins'] font-bold text-slate-400 uppercase tracking-widest mb-3" %>
      <%= form.text_area :description, rows: 4, placeholder: "What's on your mind?", class: "w-full p-4 rounded-2xl bg-slate-50 border-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 outline-none transition-all font-['Inter'] text-slate-700 resize-none leading-relaxed shadow-inner" %>
    </div>

    <div class="mb-8">
      <%= form.label :image, "Image", class: "block text-xs font-['Poppins'] font-bold text-slate-400 uppercase tracking-widest mb-3" %>
      <%= form.file_field :image, class: "block w-full text-sm text-slate-500 file:mr-4 file:py-2.5 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 cursor-pointer" %>
    </div>

    <div class="pt-4">
      <%= form.submit "Drop Fragment", class: "w-full bg-indigo-700 text-white font-['Poppins'] font-bold py-4 rounded-2xl shadow-lg shadow-indigo-700/30 hover:bg-indigo-800 hover:shadow-xl hover:-translate-y-0.5 transition-all cursor-pointer text-lg" %>
    </div>

  </div>
<% end %>